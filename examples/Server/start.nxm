load("config")

http_packet = load("http_packet")
http_server = load("http_server")

routes = {
  ['/']-> => (req) {
    return http_packet\HTTPResponse(
      headers={},
      content="Hola Mundo"
    )
  }
}

$$__start => (args) {
  try => {
    println("• Start Server")
    server = http_server\HTTPServer()
    server\set_routes(routes)
    server\start()
  } catch "Interrupt" :_ => {
    println("• Stop Server")
  }
}
